- alias: Announce Kitchen Door Opened
  trigger:
    platform: state
    entity_id: binary_sensor.ecolink_door_window_sensor_sensor
    from: 'off'
    to: 'on'
  condition:
    condition: template
    value_template: >
      {% set month = now().month %}
      {{ month != 10 }}
  action:
    service: script.sonos_say
    data:
      sonos_entity: unnamed_room
      volume: 0.5
      message: 'Kitchen door open'
      delay: '00:00:05'

- alias: Announce Kitchen Door Opened (Halloween)
  trigger:
    platform: state
    entity_id: binary_sensor.ecolink_door_window_sensor_sensor
    from: 'off'
    to: 'on'
  condition:
    condition: template
    value_template: >
      {% set month = now().month %}
      {{ month == 10 }}
  action:
    service: script.sonos_play_file
    data:
      sonos_entity: unnamed_room
      volume: 0.5
      audio_url: "audio/ghost01.mp3"
      delay: '00:00:08'

- alias: Announce Kitchen Door Closed
  trigger:
    platform: state
    entity_id: binary_sensor.ecolink_door_window_sensor_sensor
    from: 'on'
    to: 'off'
  condition:
    condition: template
    value_template: >
      {% set month = now().month %}
      {{ month != 10 }}
  action:
    service: script.sonos_say
    data:
      sonos_entity: unnamed_room
      volume: 0.5
      message: 'Kitchen door closed'
      delay: '00:00:05'

- alias: Announce Kitchen Door Closed (Halloween)
  trigger:
    platform: state
    entity_id: binary_sensor.ecolink_door_window_sensor_sensor
    from: 'on'
    to: 'off'
  condition:
    condition: template
    value_template: >
      {% set month = now().month %}
      {{ month == 10 }}
  action:
    service: script.sonos_play_file
    data:
      sonos_entity: unnamed_room
      volume: 0.5
      audio_url: "audio/howl01.mp3"
      delay: '00:00:08'

